#!/bin/sh

sym="|"
[ "$(transmission-remote -l | grep %)" ] && delay="10s" || delay="1m"

cd "$HOME/.local/bin/scripts/dwmbar/" || exit 1

status() {
	echo "$(./torrent) $sym $(./disk) $sym $(./internet) $sym $(./lamp) $sym $(./music) $sym" \
	"$(./alsa) $sym $(./packages) $sym $(./date) $sym $(./clock)" 
}

while :; do
	xsetroot -name " $(status | tr '\n' ' ')" 

	sleep "$delay"
done
